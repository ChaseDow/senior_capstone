<%= form_with model: event, class: "space-y-5" do |f| %>
  <% if event.errors.any? %>
    <div class="rounded-2xl border border-red-900 bg-red-950/40 p-4 text-red-200">
      <p class="font-medium">Please fix the following:</p>
      <ul class="mt-2 list-disc pl-6 text-sm">
        <% event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% input_classes = "mt-1 w-full rounded-xl border border-zinc-800 bg-zinc-950/40 px-3 py-2 text-sm text-zinc-100 placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-orange-300/50" %>
  <% label_classes = "block text-sm font-medium text-zinc-200" %>

  <div>
    <%= f.label :title, class: label_classes %>
    <%= f.text_field :title, class: input_classes, placeholder: "e.g. Gym session, Study group..." %>
  </div>

  <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
    <div>
      <%= f.label :starts_at, "Start time", class: label_classes %>
      <%= f.datetime_local_field :starts_at, class: input_classes %>
    </div>

    <div>
      <%= f.label :ends_at, "End time (optional)", class: label_classes %>
      <%= f.datetime_local_field :ends_at, class: input_classes %>
    </div>
  </div>

  <div>
    <%= f.label :location, class: label_classes %>
    <%= f.text_field :location, class: input_classes, placeholder: "e.g. Library, Room 210" %>
  </div>

  <div>
    <%= f.label :description, class: label_classes %>
    <%= f.text_area :description, rows: 5, class: input_classes, placeholder: "Optional notes..." %>
  </div>

  <div class="flex items-center gap-2 pt-2">
    <%= render Studs::PrimaryButtonComponent.new(
          label: (event.persisted? ? "Update event" : "Create event"),
          type: "submit",
          color: :orange
        ) %>

    <%= render Studs::SecondaryButtonComponent.new(label: "Cancel", href: events_path) %>
  </div>
<% end %>
