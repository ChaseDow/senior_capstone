<div class="min-h-screen">
  <%= render Studs::TopBarComponent.new(title: "UI", subtitle: "Studs testing page") do |t| %>
    <% t.with_actions do %>
      <%= render Studs::SearchBarComponent.new(class_name: "w-80", placeholder: "Searchâ€¦" ) %>
    <% end %>
  <% end %>

  <div class="flex h-[calc(100vh-4rem)]">
    <%= render Studs::LeftNavComponent.new(
          brand: nil,
          items: [
                { label: "Dashboard", path: "/dashboard", icon_name: "dashboard-circle-stroke-rounded" },
                {label: "Agenda", path: "/agenda", icon_name: "timeline-event-stroke-rounded"},
                { label: "Events",    path: "/events",    icon_name: "timeline-event-stroke-rounded" },
                { label: "Courses",    path: "/courses",    icon_name: "course-stroke-rounded" },
                { label: "Schedule", path: "/schedule", icon_name: "timeline-event-stroke-rounded"},
                { label: "UI",        path: "/ui",        icon_name: "search-01-stroke-rounded" },
                { label: "Syllabus",  path: "/syllabuses",icon_name: "file-01-stroke-rounded" }
          ],
          class_name: "h-[calc(100vh-4rem)]"
        ) %>

    <main class="min-w-0 flex-1 px-6 py-6">
      <!-- Mode Debug / Visual Test -->
      <div class="mb-6 rounded-2xl border border-zinc-800 bg-[var(--shell-panel)] p-5">
        <div class="flex flex-wrap items-center justify-between gap-4">
          <div>
            <div class="text-sm font-medium">Mode Debug</div>
            <div class="mt-1 text-xs text-zinc-400">
              body[data-mode] =
              <span id="mode-readout" class="font-mono text-[var(--shell-text)]"></span>
            </div>
          </div>

          <div data-controller="theme-toggle" class="inline-flex items-center gap-2">
            <span class="text-sm text-zinc-400">Mode</span>

            <div class="inline-flex overflow-hidden rounded-xl border border-zinc-800">
              <button
                type="button"
                data-action="click->theme-toggle#set"
                data-mode="black"
                class="px-3 py-2 text-sm bg-zinc-900/40 hover:bg-zinc-900/50"
              >
                Black
              </button>

              <button
                type="button"
                data-action="click->theme-toggle#set"
                data-mode="gray"
                class="border-l border-zinc-800 px-3 py-2 text-sm bg-zinc-900/40 hover:bg-zinc-900/50"
              >
                Gray
              </button>

              <button
                type="button"
                data-action="click->theme-toggle#set"
                data-mode="off-white"
                class="border-l border-zinc-800 px-3 py-2 text-sm bg-zinc-900/40 hover:bg-zinc-900/50"
              >
                Off White
              </button>
            </div>
          </div>
        </div>

        <div class="mt-4 grid gap-3 sm:grid-cols-3">
          <div class="rounded-xl border border-zinc-800 bg-[var(--shell-bg)] p-3">
            <div class="text-xs text-zinc-400">Shell BG</div>
            <div class="mt-1 text-xs font-mono text-zinc-300">--shell-bg</div>
            <div class="mt-3 h-10 rounded-lg border border-zinc-800 bg-[var(--shell-bg)]"></div>
          </div>

          <div class="rounded-xl border border-zinc-800 bg-[var(--shell-panel)] p-3">
            <div class="text-xs text-zinc-400">Shell Panel</div>
            <div class="mt-1 text-xs font-mono text-zinc-300">--shell-panel</div>
            <div class="mt-3 h-10 rounded-lg border border-zinc-800 bg-[var(--shell-panel)]"></div>
          </div>

          <div class="rounded-xl border border-zinc-800 bg-[var(--shell-panel-2)] p-3">
            <div class="text-xs text-zinc-400">Shell Panel 2</div>
            <div class="mt-1 text-xs font-mono text-zinc-300">--shell-panel-2</div>
            <div class="mt-3 h-10 rounded-lg border border-zinc-800 bg-[var(--shell-panel-2)]"></div>
          </div>
        </div>
      </div>

      <!-- Your existing component grid -->
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <div class="rounded-2xl border border-zinc-800 bg-[var(--shell-panel)] p-5">
          <div class="text-xs text-[var(--shell-text)]">Primary button</div>
          <div class="mt-3 flex flex-wrap gap-2">
            <%= render Studs::PrimaryButtonComponent.new(label: "Orange (default)", color: :orange) %>
            <%= render Studs::PrimaryButtonComponent.new(label: "Zinc", color: :zinc) %>
            <%= render Studs::PrimaryButtonComponent.new(label: "Blue", color: :blue) %>
            <%= render Studs::PrimaryButtonComponent.new(label: "Emerald", color: :emerald) %>
          </div>
        </div>

        <div class="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-5">
          <div class="text-xs text-zinc-400">Secondary colors</div>
          <div class="mt-3 flex flex-wrap gap-2">
            <%= render Studs::SecondaryButtonComponent.new(label: "Zinc", color: :zinc, size: :sm) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "Orange", color: :orange, size: :sm) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "Blue", color: :blue, size: :sm) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "Emerald", color: :emerald, size: :sm) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "Red", color: :red, size: :sm) %>
          </div>
        </div>

        <div class="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-5">
          <div class="text-xs text-zinc-400">Secondary sizes</div>
          <div class="mt-3 flex flex-wrap items-center gap-2">
            <%= render Studs::SecondaryButtonComponent.new(label: "XS", size: :xs, color: :zinc) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "SM", size: :sm, color: :zinc) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "MD", size: :md, color: :zinc) %>
            <%= render Studs::SecondaryButtonComponent.new(label: "LG", size: :lg, color: :zinc) %>
          </div>
        </div>

        <div class="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-5 lg:col-span-3">
          <div class="text-xs text-zinc-400">Nav link component</div>
          <div class="mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-3">
            <%= render Studs::LeftNavLinkComponent.new(label: "Active", path: "#", icon_name: "search-01-stroke-rounded", active: true) %>
            <%= render Studs::LeftNavLinkComponent.new(label: "Inactive", path: "#", icon_name: "search-01-stroke-rounded", active: false) %>
          </div>
        </div>

        <div class="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-5">
          <div class="text-xs text-zinc-400">Input & Dropdown</div>
          <div class="mt-3 flex flex-col gap-3">
            <%= render Studs::DropdownComponent.new(
              label: "Dropdown",
              color: :orange,
              size: :md,
              items: [
                { label: "1", href: "#" },
                { label: "2", href: "#" },
                { label: "3", href: "#" }
              ]
            ) %>
          </div>
          <div class="mt-3">
            <%= render Studs::InputBoxComponent.new(name: "email", placeholder: "Input Box", color: :zinc, size: :xs) %>
          </div>
        </div>

        <div class="rounded-2xl border border-zinc-800 bg-zinc-900/40 p-5">
          <div class="text-xs text-zinc-400">Extra Shell Test Card</div>
          <div class="mt-3 space-y-2 text-sm">
            <div class="rounded-xl border border-zinc-800 bg-[var(--shell-panel)] p-3">
              Panel uses <span class="font-mono text-xs">--shell-panel</span>
            </div>
            <div class="rounded-xl border border-zinc-800 bg-[var(--shell-panel-2)] p-3">
              Panel 2 uses <span class="font-mono text-xs">--shell-panel-2</span>
            </div>
          </div>
        </div>
      </div>

      <script>
        const updateModeReadout = () => {
          const el = document.getElementById("mode-readout")
          if (!el) return
          el.textContent = document.body.dataset.mode || "(none)"
        }

        updateModeReadout()
        new MutationObserver(updateModeReadout).observe(document.body, {
          attributes: true,
          attributeFilter: ["data-mode"]
        })
      </script>
    </main>
  </div>
</div>
