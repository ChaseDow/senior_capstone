<style>
  [data-agenda-item-card] {
    transition:
      background-color 0.15s ease,
      box-shadow 0.15s ease,
      transform 0.15s ease;
  }

  [data-agenda-item-card]:hover {
    background-color: var(--bg-hover);
  }

  [data-agenda-item-card].is-selected {
    background-color: var(--bg-hover);
    transform: translateX(10px);
  }
</style>

<%= content_tag(wrapper_tag, **wrapper_attrs.merge(
  data: { agenda_item_card: true }.merge(wrapper_attrs[:data] || {}),
  style: [
    "--bg-normal: #{tint_bg}",
    "--bg-hover: #{tint_hover}",
    "background-color: var(--bg-normal)",
    "border-color: #{tint_border}",
    "border-left: 6px solid #{tint_bar}"
  ].join("; ")
)) do %>
  <div class="flex items-start justify-between gap-3">
    <div class="min-w-0">
      <div class="flex items-center gap-2">
        <span class="inline-flex h-2.5 w-2.5 rounded-full" style="background-color:<%= tint_bar %>"></span>

        <div class="truncate text-sm font-semibold text-zinc-50">
          <%= @title %>
        </div>

        <% if @tag.present? %>
          <!-- smaller pill like reference -->
          <span
            class="inline-flex items-center rounded-xl border px-2 py-0.5 text-xs font-semibold text-zinc-50"
            style="border-color:<%= tint_border %>; background-color:<%= rgba(@accent_color, 0.12) %>;">
            <%= @tag %>
          </span>
        <% end %>
      </div>

      <div class="mt-1 text-xs font-medium text-zinc-200/90">
        <%= @subline.presence || @time %>
      </div>

      <% if @meta.present? %>
        <div class="mt-1 truncate text-xs text-zinc-300/80"><%= @meta %></div>
      <% end %>
    </div>

    <% if @href.present? %>
      <span
        class="shrink-0 rounded-xl border px-3 py-1.5 text-xs font-semibold text-zinc-50 transition hover:brightness-110"
        style="border-color:<%= tint_border %>; background-color:<%= rgba(@accent_color, 0.18) %>;">
        Open
      </span>
    <% end %>
  </div>
<% end %>