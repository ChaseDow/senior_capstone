<div class="<%= class_names('flex h-full min-h-0 flex-col', @class_name) %>">
  <nav class="flex-1 min-h-0 p-2 space-y-1">
    <% @items.each do |item| %>
      <% active = active_path?(item[:path]) %>
      <%= link_to item[:path],
          title: item[:label],
          aria: (active ? { current: "page" } : {}),
          class: link_classes(active) do %>
        <span class="shrink-0 <%= icon_classes(active) %>">
          <span class="shrink-0 <%= icon_classes(active) %>
             [&_svg]:text-current
             [&_svg]:w-6 [&_svg]:h-6
             [&_svg_*]:stroke-current">
            <%= helpers.icon item[:icon_name] %>
          </span>
        </span>
        <span class="truncate group-data-[collapsed=true]/sidebar:hidden">
          <%= item[:label] %>
        </span>
      <% end %>
    <% end %>
  </nav>
  <div class="shrink-0 border-t border-white/10 p-2">
    <% user = (helpers.current_user rescue nil) %>
    <% if user&.respond_to?(:email) %>
      <%= link_to profile_path,
        data: {turbo_frame: "event_drawer", turbo_prefetch: false},
        class: "px-3 py-2 text-xs text-zinc-400 hover:text-zinc-200
            transition block
            group-data-[collapsed=true]/sidebar:hidden 
            hover:bg-white/5 rounded-lg" do %>
        <%= user.email %>
      <% end %>
    <% end %>
    <%= button_to destroy_user_session_path,
    method: :delete,
    form: { class: "w-full" },
    title: "Sign out",
    class: "w-full group flex items-center gap-3 rounded-xl border border-white/10
            bg-zinc-950/40 px-3 py-2.5 text-base font-medium
            text-zinc-100 hover:bg-white/5 transition
            group-data-[collapsed=true]/sidebar:justify-center
            group-data-[collapsed=true]/sidebar:px-2" do %>
      <span class="shrink-0 text-zinc-200 hover:text-zinc-50
               [&_svg]:w-6 [&_svg]:h-6
               [&_svg]:text-current
               [&_svg_*]:stroke-current
               [&_svg_*]:fill-none">
        <%= helpers.icon "logout-01-stroke-rounded" %>
      </span>
      <span class="truncate group-data-[collapsed=true]/sidebar:hidden">Sign out</span>
    <% end %>
  </div>
</div>
